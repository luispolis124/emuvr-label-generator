<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EmuVR Retro Pack Maker | Gemini + Kling AI</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
</head>
<body>

    <div class="container">
        <header>
            <h1>üìº EmuVR Retro Pack Maker</h1>
            <p>Gere anima√ß√µes 2D Cel fict√≠cias com Gemini & Kling AI</p>
        </header>

        <main>
            <section class="config-section">
                <div class="input-group">
                    <label for="apiKey">Gemini API Key:</label>
                    <input type="password" id="apiKey" placeholder="Cole sua chave da Google AI Studio aqui..." required>
                </div>
            </section>

            <hr>

            <section class="form-section">
                <div class="input-group">
                    <label for="movieTitle">T√≠tulo da Anima√ß√£o:</label>
                    <input type="text" id="movieTitle" placeholder="Ex: Rob√¥ Mecha 1994 ou Cyber Samurai">
                </div>

                <div class="input-group">
                    <label for="vhsStyle">Tipo de Etiqueta:</label>
                    <select id="vhsStyle">
                        <option value="blockbuster">Anima√ß√£o Oficial (Locadora)</option>
                        <option value="homevideo">Fita Gravada (Escrito √† M√£o)</option>
                        <option value="tv">Especial de TV (Antigo)</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="videoFile">Upload do V√≠deo (Gerado no Kling/Sora):</label>
                    <input type="file" id="videoFile" accept="video/mp4,video/x-m4v,video/*">
                    <small>Dica: Primeiro gere o prompt, depois use no Kling e suba o v√≠deo aqui.</small>
                </div>

                <video id="videoHelper" style="display:none;"></video>

                <button id="generateBtn" class="btn-primary">‚ú® 1. Gerar Dados & Prompt de V√≠deo</button>
            </section>

            <section class="preview-section">
                <div id="aiStatus" class="ai-box">
                    <strong>Status:</strong> Aguardando comando...
                </div>

                <div class="canvas-container">
                    <canvas id="vhsCanvas" width="800" height="350"></canvas>
                    <p class="canvas-label">Preview da Etiqueta VHS</p>
                </div>
                
                <button id="downloadZipBtn" class="btn-secondary" disabled>üì¶ 2. Baixar Pack Completo (.zip)</button>
            </section>
        </main>
        
        <footer>
            <p><small>Use o prompt gerado no <a href="https://klingai.com/" target="_blank" style="color: var(--accent-color);">Kling AI</a> para criar sua anima√ß√£o 2D Cel.</small></p>
        </footer>
    </div>

    <script type="module" src="script.js"></script>
</body>
</html>
